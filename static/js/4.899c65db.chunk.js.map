{"version":3,"sources":["components/Users/Users.module.css","components/Users/User/User.module.css","components/common/Paginator/Paginator.module.css","components/Users/User/User.js","components/common/Paginator/Paginator.js","components/Users/Users.js","state/selectors.js","components/Users/UsersContainer.js"],"names":["module","exports","User","props","className","s","wrapper","link","to","user","id","container","userFollow","avatarWrapper","avatar","src","photos","small","defaultAvatar","alt","followButtonWrapper","followed","followButton","onClick","e","userId","preventDefault","unfollowThunk","onUnubscribe","disabled","usersInProccess","some","followThunk","onSubscribe","description","nameWrapper","name","status","userLocation","country","city","Paginator","pages","pagesCount","Math","ceil","totalItems","itemsOnPage","useState","section","setSection","leftBorderOfPages","countOfPages","rightBorderOfPages","i","push","currentPages","indexOf","pageButton","selected","selectPage","Users","users","map","u","isFetching","showMoreButtonWrapper","showMoreButton","showMore","length","usersOnPage","totalUsers","paginatorWrapper","getUsers","state","usersPage","UsersApiContainer","bind","this","setPage","number","getUsersOnOnePage","getShowMoreUsers","React","Component","compose","withAuthRedirect","connect","dispatch","page","setCurrentPageAC","followThunkCreator","unfollowThunkCreator","getUsersTC","getUsersOnOnePageTC","shoMoreTC"],"mappings":"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","file":"static/js/4.899c65db.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"showMoreButtonWrapper\":\"Users_showMoreButtonWrapper__3Fx1t\",\"showMoreButton\":\"Users_showMoreButton__3cuUY\",\"paginatorWrapper\":\"Users_paginatorWrapper__qQuVC\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"wrapper\":\"User_wrapper__cZ5-l\",\"link\":\"User_link__5qlud\",\"container\":\"User_container__1uHp8\",\"avatar\":\"User_avatar__3LRaA\",\"followButtonWrapper\":\"User_followButtonWrapper__11QkF\",\"avatarWrapper\":\"User_avatarWrapper__3nd2e\",\"followButton\":\"User_followButton__Opcci\",\"description\":\"User_description__3BWfP\",\"nameWrapper\":\"User_nameWrapper__BT8Ek\",\"name\":\"User_name__XOj8G\",\"status\":\"User_status__1_3K6\",\"userLocation\":\"User_userLocation__3NE3b\",\"country\":\"User_country__3ig50\",\"city\":\"User_city__29kCq\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"wrapper\":\"Paginator_wrapper__2vK9x\",\"pageButton\":\"Paginator_pageButton__1HKiM\",\"selected\":\"Paginator_selected__3syVu\"};","import React from \"react\";\r\nimport s from \"./User.module.css\";\r\nimport { NavLink } from \"react-router-dom\";\r\nimport defaultAvatar from \"../../../assets/images/defaultAvatar.png\";\r\n\r\nfunction User(props) {\r\n  function onSubscribe(e, userId) {\r\n    e.preventDefault();\r\n    props.followThunk(userId);\r\n  }\r\n\r\n  function onUnubscribe(e, userId) {\r\n    e.preventDefault();\r\n    props.unfollowThunk(userId);\r\n  }\r\n\r\n  return (\r\n    <div className={s.wrapper}>\r\n      <NavLink className={s.link} to={`/profile/${props.user.id}`}>\r\n        <div className={s.container}>\r\n          <div className={s.userFollow}>\r\n            <div className={s.avatarWrapper}>\r\n              <img\r\n                className={s.avatar}\r\n                src={\r\n                  props.user.photos.small == null\r\n                    ? defaultAvatar\r\n                    : props.user.photos.small\r\n                }\r\n                alt=\"avatar\"\r\n              />\r\n            </div>\r\n            <div className={s.followButtonWrapper}>\r\n              {props.user.followed ? (\r\n                <button\r\n                  className={s.followButton}\r\n                  onClick={(e) => onUnubscribe(e, props.user.id)}\r\n                  disabled={props.usersInProccess.some(\r\n                    (id) => id === props.user.id\r\n                  )}\r\n                >\r\n                  unsubscribe\r\n                </button>\r\n              ) : (\r\n                <button\r\n                  className={s.followButton}\r\n                  onClick={(e) => onSubscribe(e, props.user.id)}\r\n                  disabled={props.usersInProccess.some(\r\n                    (id) => id === props.user.id\r\n                  )}\r\n                >\r\n                  subscribe\r\n                </button>\r\n              )}\r\n            </div>\r\n          </div>\r\n          <div className={s.description}>\r\n            <div className={s.nameWrapper}>\r\n              <div className={s.name}>{props.user.name}</div>\r\n              <div className={s.status}>{props.user.status}</div>\r\n            </div>\r\n            <div className={s.userLocation}>\r\n              <div className={s.country}>\r\n                {\"props.user.location.country\"}&#44;\r\n              </div>\r\n              <div className={s.city}>{\"props.user.location.city\"}</div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </NavLink>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default User;\r\n","import React, { useState } from \"react\";\r\nimport s from \"./Paginator.module.css\";\r\n\r\nconst Paginator = (props) => {\r\n\r\n  const pages = [];\r\n  const pagesCount = Math.ceil(props.totalItems / props.itemsOnPage);\r\n\r\n  const [section, setSection] = useState(1);\r\n  const leftBorderOfPages = (section - 1) * props.countOfPages;\r\n  const rightBorderOfPages = section * props.countOfPages;\r\n\r\n  for (let i = 1; i <= pagesCount; i++) {\r\n    if (i > leftBorderOfPages && i <= rightBorderOfPages) {\r\n      pages.push(\r\n        <span\r\n          key={i}\r\n          className={\r\n            props.currentPages.indexOf(i) !== -1\r\n              ? `${s.pageButton} ${s.selected}`\r\n              : s.pageButton\r\n          }\r\n          onClick={() => props.selectPage(i)}\r\n        >\r\n          {`${i} `}\r\n        </span>\r\n      );\r\n    }\r\n  }\r\n\r\n  return (\r\n    <div className={s.wrapper}>\r\n      {section > 1 && (\r\n        <button onClick={() => setSection((s) => s - 1)}>prev</button>\r\n      )}\r\n      {pages}\r\n      {section * props.countOfPages * props.itemsOnPage < props.totalItems && (\r\n        <button onClick={() => setSection((s) => s + 1)}>next</button>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Paginator;\r\n","import React from \"react\";\r\nimport s from \"./Users.module.css\";\r\nimport User from \"./User/User.js\";\r\nimport Preloder from \"../common/Preloader/Preloader\";\r\nimport Paginator from \"../common/Paginator/Paginator\";\r\nfunction Users(props) {\r\n  const users = props.users.map((u) => (\r\n    <User\r\n      key={u.id}\r\n      user={u}\r\n      usersInProccess={props.usersInProccess}\r\n      followThunk={props.followThunk}\r\n      unfollowThunk={props.unfollowThunk}\r\n    />\r\n  ));\r\n\r\n  return (\r\n    <div>\r\n      <h3>Users</h3>\r\n      <div>{users}</div>\r\n      {props.isFetching ? <Preloder /> : null}\r\n      <div className={s.showMoreButtonWrapper}>\r\n        <button\r\n          className={s.showMoreButton}\r\n          onClick={props.showMore}\r\n          disabled={\r\n            props.currentPages[props.currentPages.length - 1] *\r\n              props.usersOnPage >=\r\n            props.totalUsers\r\n              ? true\r\n              : false\r\n          }\r\n        >\r\n          Show more\r\n        </button>\r\n      </div>\r\n      <div className={s.paginatorWrapper}>\r\n        <Paginator\r\n          totalItems={props.totalUsers}\r\n          itemsOnPage={props.usersOnPage}\r\n          currentPages={props.currentPages}\r\n          selectPage={props.selectPage}\r\n          countOfPages={10}\r\n        />\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Users;\r\n","\r\nexport const getUsers = state => state.usersPage.users;","import React from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport Users from \"./Users\";\r\nimport {\r\n  setCurrentPageAC,\r\n  followThunkCreator,\r\n  unfollowThunkCreator,\r\n  getUsersTC,\r\n  getUsersOnOnePageTC,\r\n  shoMoreTC,\r\n} from \"../../state/users-reducer\";\r\nimport { compose } from \"redux\";\r\nimport withAuthRedirect from \"../HOC/withAuthRedirect\";\r\nimport { getUsers } from \"../../state/selectors\";\r\n\r\nclass UsersApiContainer extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.selectPage = this.selectPage.bind(this);\r\n    this.showMore = this.showMore.bind(this);\r\n  }\r\n  componentDidMount() {\r\n    this.props.getUsers(this.props.currentPages, this.props.usersOnPage);\r\n  }\r\n  componentWillUnmount() {\r\n    this.props.setPage(1);\r\n  }\r\n  selectPage(number) {\r\n    this.props.getUsersOnOnePage(number, this.props.usersOnPage);\r\n  }\r\n  showMore() {\r\n    this.props.getShowMoreUsers(\r\n      this.props.currentPages,\r\n      this.props.usersOnPage\r\n    );\r\n  }\r\n  render() {\r\n    return (\r\n      <div>\r\n        <Users\r\n          users={this.props.users}\r\n          currentPages={this.props.currentPages}\r\n          totalUsers={this.props.totalUsers}\r\n          usersOnPage={this.props.usersOnPage}\r\n          selectPage={this.selectPage}\r\n          showMore={this.showMore}\r\n          isFetching={this.props.isFetching}\r\n          usersInProccess={this.props.usersInProccess}\r\n          followThunk={this.props.followThunk}\r\n          unfollowThunk={this.props.unfollowThunk}\r\n        />\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n  return {\r\n    users: getUsers(state),\r\n    currentPages: state.usersPage.currentPages,\r\n    usersOnPage: state.usersPage.usersOnPage,\r\n    totalUsers: state.usersPage.totalUsers,\r\n    isFetching: state.usersPage.isFetching,\r\n    usersInProccess: state.usersPage.usersInProccess,\r\n  };\r\n};\r\n\r\nconst mapDispatchToProps = (dispatch) => {\r\n  return {\r\n    setPage: (page) => {\r\n      dispatch(setCurrentPageAC(page));\r\n    },\r\n    followThunk: (userId) => {\r\n      dispatch(followThunkCreator(userId));\r\n    },\r\n    unfollowThunk: (userId) => {\r\n      dispatch(unfollowThunkCreator(userId));\r\n    },\r\n    getUsers: (currentPages, usersOnPage) => {\r\n      dispatch(getUsersTC(currentPages, usersOnPage));\r\n    },\r\n    getUsersOnOnePage: (number, usersOnPage) => {\r\n      dispatch(getUsersOnOnePageTC(number, usersOnPage));\r\n    },\r\n    getShowMoreUsers: (currentPages, usersOnPage) => {\r\n      dispatch(shoMoreTC(currentPages, usersOnPage));\r\n    },\r\n  };\r\n};\r\n\r\nexport default compose(\r\n  withAuthRedirect,\r\n  connect(mapStateToProps, mapDispatchToProps)\r\n)(UsersApiContainer);\r\n"],"sourceRoot":""}