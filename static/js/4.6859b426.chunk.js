(this["webpackJsonpsocial-network"]=this["webpackJsonpsocial-network"]||[]).push([[4],{111:function(e,s,t){e.exports={showMoreButtonWrapper:"Users_showMoreButtonWrapper__3Fx1t",showMoreButton:"Users_showMoreButton__3cuUY",paginatorWrapper:"Users_paginatorWrapper__qQuVC"}},112:function(e,s,t){e.exports={wrapper:"User_wrapper__cZ5-l",link:"User_link__5qlud",container:"User_container__1uHp8",avatar:"User_avatar__3LRaA",followButtonWrapper:"User_followButtonWrapper__11QkF",avatarWrapper:"User_avatarWrapper__3nd2e",followButton:"User_followButton__Opcci",description:"User_description__3BWfP",nameWrapper:"User_nameWrapper__BT8Ek",name:"User_name__XOj8G",status:"User_status__1_3K6",userLocation:"User_userLocation__3NE3b",country:"User_country__3ig50",city:"User_city__29kCq"}},113:function(e,s,t){e.exports={wrapper:"Paginator_wrapper__2vK9x",pageButton:"Paginator_pageButton__1HKiM",selected:"Paginator_selected__3syVu"}},116:function(e,s,t){"use strict";t.r(s);var r=t(0),n=t(27),a=t(28),o=t(38),c=t(32),u=t(31),i=t(1),l=t.n(i),p=t(11),h=t(111),j=t.n(h),d=t(112),g=t.n(d),O=t(9),f=t(62);var b=function(e){return Object(r.jsx)("div",{className:g.a.wrapper,children:Object(r.jsx)(O.b,{className:g.a.link,to:"/profile/".concat(e.user.id),children:Object(r.jsxs)("div",{className:g.a.container,children:[Object(r.jsxs)("div",{className:g.a.userFollow,children:[Object(r.jsx)("div",{className:g.a.avatarWrapper,children:Object(r.jsx)("img",{className:g.a.avatar,src:null==e.user.photos.small?f.a:e.user.photos.small,alt:"avatar"})}),Object(r.jsx)("div",{className:g.a.followButtonWrapper,children:e.user.followed?Object(r.jsx)("button",{className:g.a.followButton,onClick:function(s){return function(s,t){s.preventDefault(),e.unfollowThunk(t)}(s,e.user.id)},disabled:e.usersInProccess.some((function(s){return s===e.user.id})),children:"unsubscribe"}):Object(r.jsx)("button",{className:g.a.followButton,onClick:function(s){return function(s,t){s.preventDefault(),e.followThunk(t)}(s,e.user.id)},disabled:e.usersInProccess.some((function(s){return s===e.user.id})),children:"subscribe"})})]}),Object(r.jsxs)("div",{className:g.a.description,children:[Object(r.jsxs)("div",{className:g.a.nameWrapper,children:[Object(r.jsx)("div",{className:g.a.name,children:e.user.name}),Object(r.jsx)("div",{className:g.a.status,children:e.user.status})]}),Object(r.jsxs)("div",{className:g.a.userLocation,children:[Object(r.jsxs)("div",{className:g.a.country,children:["props.user.location.country",","]}),Object(r.jsx)("div",{className:g.a.city,children:"props.user.location.city"})]})]})]})})})},_=t(30),P=t(33),w=t(113),m=t.n(w),v=function(e){for(var s=[],t=Math.ceil(e.totalItems/e.itemsOnPage),n=Object(i.useState)(1),a=Object(P.a)(n,2),o=a[0],c=a[1],u=(o-1)*e.countOfPages,l=o*e.countOfPages,p=function(t){t>u&&t<=l&&s.push(Object(r.jsx)("span",{className:-1!==e.currentPages.indexOf(t)?"".concat(m.a.pageButton," ").concat(m.a.selected):m.a.pageButton,onClick:function(){return e.selectPage(t)},children:"".concat(t," ")},t))},h=1;h<=t;h++)p(h);return Object(r.jsxs)("div",{className:m.a.wrapper,children:[o>1&&Object(r.jsx)("button",{onClick:function(){return c((function(e){return e-1}))},children:"prev"}),s,o*e.countOfPages*e.itemsOnPage<e.totalItems&&Object(r.jsx)("button",{onClick:function(){return c((function(e){return e+1}))},children:"next"})]})};var x=function(e){var s=e.users.map((function(s){return Object(r.jsx)(b,{user:s,usersInProccess:e.usersInProccess,followThunk:e.followThunk,unfollowThunk:e.unfollowThunk},s.id)}));return Object(r.jsxs)("div",{children:[Object(r.jsx)("h3",{children:"Users"}),Object(r.jsx)("div",{children:s}),e.isFetching?Object(r.jsx)(_.a,{}):null,Object(r.jsx)("div",{className:j.a.showMoreButtonWrapper,children:Object(r.jsx)("button",{className:j.a.showMoreButton,onClick:e.showMore,disabled:e.currentPages[e.currentPages.length-1]*e.usersOnPage>=e.totalUsers,children:"Show more"})}),Object(r.jsx)("div",{className:j.a.paginatorWrapper,children:Object(r.jsx)(v,{totalItems:e.totalUsers,itemsOnPage:e.usersOnPage,currentPages:e.currentPages,selectPage:e.selectPage,countOfPages:10})})]})},k=t(64),U=t(16),N=t(52),B=function(e){return e.usersPage.users},M=function(e){Object(c.a)(t,e);var s=Object(u.a)(t);function t(e){var r;return Object(n.a)(this,t),(r=s.call(this,e)).selectPage=r.selectPage.bind(Object(o.a)(r)),r.showMore=r.showMore.bind(Object(o.a)(r)),r}return Object(a.a)(t,[{key:"componentDidMount",value:function(){this.props.getUsers(this.props.currentPages,this.props.usersOnPage)}},{key:"componentWillUnmount",value:function(){this.props.setPage(1)}},{key:"selectPage",value:function(e){this.props.getUsersOnOnePage(e,this.props.usersOnPage)}},{key:"showMore",value:function(){this.props.getShowMoreUsers(this.props.currentPages,this.props.usersOnPage)}},{key:"render",value:function(){return Object(r.jsx)("div",{children:Object(r.jsx)(x,{users:this.props.users,currentPages:this.props.currentPages,totalUsers:this.props.totalUsers,usersOnPage:this.props.usersOnPage,selectPage:this.selectPage,showMore:this.showMore,isFetching:this.props.isFetching,usersInProccess:this.props.usersInProccess,followThunk:this.props.followThunk,unfollowThunk:this.props.unfollowThunk})})}}]),t}(l.a.Component);s.default=Object(U.d)(N.a,Object(p.b)((function(e){return{users:B(e),currentPages:e.usersPage.currentPages,usersOnPage:e.usersPage.usersOnPage,totalUsers:e.usersPage.totalUsers,isFetching:e.usersPage.isFetching,usersInProccess:e.usersPage.usersInProccess}}),(function(e){return{setPage:function(s){e(Object(k.e)(s))},followThunk:function(s){e(Object(k.b)(s))},unfollowThunk:function(s){e(Object(k.g)(s))},getUsers:function(s,t){e(Object(k.d)(s,t))},getUsersOnOnePage:function(s,t){e(Object(k.c)(s,t))},getShowMoreUsers:function(s,t){e(Object(k.f)(s,t))}}})))(M)}}]);
//# sourceMappingURL=4.6859b426.chunk.js.map